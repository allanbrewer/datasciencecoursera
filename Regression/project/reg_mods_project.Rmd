---
title: "Regression Models Project"
author: "Allan R Brewer Cappellin"
date: "June 15, 2015"
output:
  pdf_document:
    latex_engine: xelatex
    fig_width: 7
    fig_height: 4
subtitle: Analyzing the relationship between variables in the `mtcars` data set from R.
fontsize: 10pt
geometry: margin = 0.75in
---

## Executive Summary

In this project we will analyze the `mtcars` data set from R. We will do a Exploratory Data Analysis of it, fit various models to explain the interaction between variables, respond to the questions of weather Manual or Automatic transmission is better for MPG and quantify the difference and do residual and uncertainty plots and analysis. This analysis will be done using the tools learned in the Regression Models Course from Coursera. 

---

## Data Analysis and Summary

In the first section we will create a plot to do an exploratory data analysis and a figure of the summary of the data. For this analysis we will load the packages ggplot2 and dplyr

```{r Load_Packages, echo=FALSE, message=FALSE, error=FALSE, message=FALSE}
library(ggplot2)
library(dplyr)
```


```{r Load_Data, echo=FALSE}
data(mtcars)
x <- tbl_df(mtcars); rm(mtcars)
```


* Summary and Structure*
```{r summary, echo=FALSE, results='markup'}
str(x)
summary(x)
```


```{r plot1, echo=FALSE, fig.align='center'}
plot1 <- ggplot(x, aes(x = supp, y = len, colour = factor(dose)))
plot1 <- plot1 + labs(title = "Length by Supplement and Dose", x = "Supplement Type", y = "Length")
plot1 <- plot1 + geom_boxplot() + scale_color_discrete(name = "Dose") + facet_grid(~dose)
plot1
```

## Hypothesis Test


```{r hypo_test, echo=FALSE}
oj05 <- filter(x, supp == "OJ", dose == 0.5)
oj10 <- filter(x, supp == "OJ", dose == 1)
oj20 <- filter(x, supp == "OJ", dose == 2)
vc05 <- filter(x, supp == "VC", dose == 0.5)
vc10 <- filter(x, supp == "VC", dose == 1)
vc20 <- filter(x, supp == "VC", dose == 2)
d05 <- filter(x, dose == 0.5)
d10 <- filter(x, dose == 1)
d20 <- filter(x, dose == 2)
hypo1 <- t.test(oj05$len, vc05$len, paired=FALSE, var.equal=FALSE, alternative="two.sided")
hypo2 <- t.test(oj10$len, vc10$len, paired=FALSE, var.equal=FALSE, alternative="two.sided")
hypo3 <- t.test(oj20$len, vc20$len, paired=FALSE, var.equal=FALSE, alternative="two.sided")
hypo4 <- t.test(d05$len, d10$len, paired=FALSE, var.equal=FALSE, alternative="two.sided")
hypo5 <- t.test(d10$len, d20$len, paired=FALSE, var.equal=FALSE, alternative="two.sided")
```
### Tests and Results

Next the Hypothesis tests and the p value to accept or reject the null hypothesis.

**Hypothesis Test 1**

* $H_{0}$ : The difference in mean between OJ and VC in 0.5 milligram per day dose is equal to 0.  
* $H_{1}$ : The difference in mean between OJ and VC in 0.5 milligram per day dose is different to 0.  
* P-Value:

```{r hypo1_pvalue, echo=FALSE}
hypo1$p.value
```
* Result: With the P-value reported above we can reject the null hypothesis and can say that the difference in mean different to 0 is statistically significant.

**Hypothesis Test 2**

* $H_{0}$ : The difference in mean between OJ and VC in 1.0 milligram per day dose is equal to 0.  
* $H_{1}$ : The difference in mean between OJ and VC in 1.0 milligram per day dose is different to 0.  
* P-Value:

```{r hypo2_pvalue, echo=FALSE}
hypo2$p.value
```
* Result: With the P-value reported above we can reject the null hypothesis and can say that the difference in mean different to 0 is statistically significant.


## Conclusions


\newpage

---

## Appendix

In this section we will show all the R code, figures and graphs that support the document and conclusions drawn in it.

### R code

In this first section of the appendix you can find all of the R code that is not shown in the main body of the document. 

*R Code #1 : Load Data R Code*

```{r Appendix1, ref.label="Load_Data", echo=TRUE, eval=FALSE}
```

*R Code #2 : Summary R Code*

```{r Appendix2, ref.label="summary", echo=TRUE, eval=FALSE}
```

*R Code #3 : Box Plot R Code*

```{r Appendix3, ref.label="plot1", echo=TRUE, eval=FALSE}
```

*R Code #4 : Hypothesis Test R Code*

```{r Appendix4, ref.label="hypo_test", echo=TRUE, eval=FALSE}
```

### Results

*Result for Hypothesis Test 1 : Compare OJ vs VC for 0.5 mg/d*

```{r Appendix5, echo=FALSE}
hypo1
```

*Result for Hypothesis Test 2 : Compare OJ vs VC for 1.0 mg/d*

```{r Appendix6, echo=FALSE}
hypo2
```

*Result for Hypothesis Test 3 : Compare OJ vs VC for 2.0 mg/d*

```{r Appendix7, echo=FALSE}
hypo3
```

*Result for Hypothesis Test 4 : Compare 0.5 mg/d vs 1.0 mg/d for all Supp Types*

```{r Appendix8, echo=FALSE}
hypo4
```

*Result for Hypothesis Test 5 : Compare 1.0 mg/d vs 2.0 mg/d for all Supp Types*

```{r Appendix9, echo=FALSE}
hypo5
```

---