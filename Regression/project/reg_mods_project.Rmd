---
title: "Regression Models Project"
author: "Allan R Brewer Cappellin"
date: "June 15, 2015"
output:
  pdf_document:
    latex_engine: xelatex
    fig_width: 7
    fig_height: 4
subtitle: Analyzing the relationship between variables in the `mtcars` data set from R.
fontsize: 10pt
geometry: margin = 0.75in
---

## Executive Summary

In this project we will analyze the `mtcars` data set from R. We will do a Exploratory Data Analysis of it, fit various models to explain the interaction between variables, respond to the questions of weather Manual or Automatic transmission is better for MPG and quantify the difference and do residual and uncertainty plots and analysis. This analysis will be done using the tools learned in the Regression Models Course from Coursera. 

---

## Data Analysis and Summary

In the first section we will create a plot to do an exploratory data analysis and a figure of the summary of the data. For this analysis we will load the packages ggplot2 and dplyr

```{r Load_Packages, echo=FALSE, message=FALSE, error=FALSE, message=FALSE}
library(ggplot2)
library(dplyr)
```


```{r Load_Data, echo=FALSE}
data(mtcars)
x <- tbl_df(mtcars); rm(mtcars)
```

The first thing we will do is create a summary of the data and a basic graph to undestand the variables and their relationship.

*Summary and Structure*
```{r summary, echo=FALSE, results='markup'}
str(x)
summary(x)
```

With the summary and structure information in mind we will create a pairwise plot of all the varaibles to undestand their relationship.

```{r plot1, echo=FALSE, fig.align='center'}
plot1 <- ggpairs(x, lower = list(continuous = "smooth"),params = c(method = "loess"))
plot1
```

## Linear Models

We will create a copuple of linear models to start with the analysis. The first one is the model with `mpg` as the outcome and the rest of the variables as the predictors. We are specilly interesten in the effect of the transmission type on the MPG so a second model adjusted with just the `am` varaibles will be fitted.

```{r models, echo=FALSE}
model_all <- lm(mpg ~ . , data = x)
model_am <- lm(mpg ~ am, data = x)
```
### Tests and Results

Next the Hypothesis tests and the p value to accept or reject the null hypothesis.

**Hypothesis Test 1**

* $H_{0}$ : The difference in mean between OJ and VC in 0.5 milligram per day dose is equal to 0.  
* $H_{1}$ : The difference in mean between OJ and VC in 0.5 milligram per day dose is different to 0.  
* P-Value:

```{r hypo1_pvalue, echo=FALSE}
hypo1$p.value
```
* Result: With the P-value reported above we can reject the null hypothesis and can say that the difference in mean different to 0 is statistically significant.

## Conclusions

In this project a multiple regression was conducted to examine the predictors of mpg in cars. Ten predictors were simultaneously entered into the model: Number of Cylinders, Displacement, HP, Rear Axle Ratio, Weigth, Quater Mile Time, V/S, Transmission Type, Forward Gears and Carburetors. Together they accounted for xxx of the variance in MPG. Of all the variables xxx, xxx, and xxx were significant predictors of MPG. XXX ($ Beta = xxx $) and XXX were the strongest predictors and (Negatively or Positively) associated with MPG, whereas XXX were (Negativly or Positively) associeted with the outcome.

\newpage

---

## Appendix

In this section we will show all the R code, figures and graphs that support the document and conclusions drawn in it.

### R code

In this first section of the appendix you can find all of the R code that is not shown in the main body of the document. 

*R Code #1 : Load Data R Code*

```{r Appendix1, ref.label="Load_Data", echo=TRUE, eval=FALSE}
```

*R Code #2 : Summary R Code*

```{r Appendix2, ref.label="summary", echo=TRUE, eval=FALSE}
```

*R Code #3 : Box Plot R Code*

```{r Appendix3, ref.label="plot1", echo=TRUE, eval=FALSE}
```

*R Code #4 : Hypothesis Test R Code*

```{r Appendix4, ref.label="hypo_test", echo=TRUE, eval=FALSE}
```

### Results

*Result for Hypothesis Test 1 : Compare OJ vs VC for 0.5 mg/d*

```{r Appendix5, echo=FALSE}
hypo1
```

*Result for Hypothesis Test 2 : Compare OJ vs VC for 1.0 mg/d*

```{r Appendix6, echo=FALSE}
hypo2
```

*Result for Hypothesis Test 3 : Compare OJ vs VC for 2.0 mg/d*

```{r Appendix7, echo=FALSE}
hypo3
```

*Result for Hypothesis Test 4 : Compare 0.5 mg/d vs 1.0 mg/d for all Supp Types*

```{r Appendix8, echo=FALSE}
hypo4
```

*Result for Hypothesis Test 5 : Compare 1.0 mg/d vs 2.0 mg/d for all Supp Types*

```{r Appendix9, echo=FALSE}
hypo5
```

---