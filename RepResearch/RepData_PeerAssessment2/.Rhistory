getwd()
library(knitr)
stormdata <- read.csv("~/Desktop/NOAA_StormData.csv", nrows = 100)
##stormdata <- read.csv(bzfile("./NOAA_StormData.csv.bz2"), nrow = 10000)
stormdata <- read.csv(bzfile("./NOAA_StormData.csv.bz2"), nrow = 10000)
stormdata <- read.csv(bzfile("./NOAA_StormData.csv.bz2"), nrow = 10000)
stormdata <- read.csv(bzfile("~/Deskto/NOAA_StormData.csv.bz2"), nrow = 10000)
stormdata <- read.csv(bzfile("~/Desktop/NOAA_StormData.csv.bz2"), nrow = 10000)
head(stormdata)
library(dplyr)
stormdata <- read.csv(bzfil("~/Desktop/NOAA_StormData.csv.bz2"), nrow = 100000)
stormdata <- read.csv(bzfile("~/Desktop/NOAA_StormData.csv.bz2"), nrow = 100000)
stormdata <- read.csv("~/Desktop/NOAA_StormData.csv", nrows = 1000)
stormdata <- tbl_df(stormdata)
if (!require(dplyr)) { install.packages("dplyr") }
if (!require(ggplot2)) { install.packages("ggplot2") }
stormdata <- read.csv("~/Desktop/NOAA_StormData.csv", nrows = 1000)
stormdata <- tbl_df(stormdata)
stormdata
str(stormdata)
stormdata <- read.csv("~/Dropbox/DataCoursera/NOAA_StormData.csv.bz2", nrow = 1500)
stormdata <- read.csv("~/Dropbox/DataCoursera/NOAA_StormData.csv.bz2", nrow = 10000)
stormdata <- read.csv("~/Dropbox/DataCoursera/NOAA_StormData.csv.bz2")
rm(stormdata)
if (!require(dplyr)) { install.packages("dplyr") }
if (!require(ggplot2)) { install.packages("ggplot2") }
stormdata <- read.csv("~/Desktop/NOAA_StormData.csv")
library(pryr)
object_size(stormdata)
str(stormdata)
stormdata$PROPDMGEXP[1:10]
stormdata$PROPDMG[1:10]
stormdata <- select(stormdata, EVTYPE, FATALITIES, INJURIES, PROPDMG, PROPDMGEXP, CROPDMG, CROPDMGEXP)
stormdata <- group_by(stormdata, EVTYPE)
stormdata
View(stormdata)
?agrep
unique(stormdata$EVTYPE)
rm(stormdata)
if (!require(dplyr)) { install.packages("dplyr") }
if (!require(ggplot2)) { install.packages("ggplot2") }
stormdata <- read.csv("~/Desktop/NOAA_StormData.csv", stringsAsFactors = FLASE)
install.packages("stringdist")
if (!require(stringdist)) { install.packages("stringdist") }
stormdata <- read.csv("~/Desktop/NOAA_StormData.csv", stringsAsFactors = FALSE)
stormdata <- tbl_df(stormdata)
stormdata <- select(stormdata, EVTYPE, FATALITIES, INJURIES, PROPDMG, PROPDMGEXP, CROPDMG, CROPDMGEXP)
stormdata <- group_by(stormdata, EVTYPE)
stormdata
events <- unique(stormdata$EVTYPE)
events
gsub("  ", events, " ")
gsub("  ", " ", events)
gsub("^ +", "", events)
events <- gsub("^ +", "", events)
events <- gsub(" +", " ", events)
events
gsub(" +", "", events)
gsub(" +", " ", events)
grep("[S|s]ummary", events)
grep("^[S|s]ummary", events)
grepl("^[S|s]ummary", events)
events[grepl("^[S|s]ummary", events)]
events[!grepl("^[S|s]ummary", events)]
events <- events[!grepl("^[S|s]ummary", events)]
amatch("Tornado", events, maxDist = 2)
amatch("Tornado", events, maxDist = 5)
amatch("Tornado", events, maxDist = 10)
event[610]
events[610]
amatch("Tornado", events, maxDist = 3)
amatch("Tornado", events, maxDist = 4)
amatch("Tornado", events, maxDist = 5)
amatch("TORNADO", events, maxDist = 2)
amatch("TORNADO", events, maxDist = 3)
amatch("TORNADO", events, maxDist = 4)
amatch("TORNADO", events, maxDist = 5)
amatch("TORNADO", events, maxDist = 6)
amatch("TORNADO", events, maxDist = 7)
amatch("TORNADO", events, maxDist = 8)
amatch("TORNADO", events, maxDist = 9)
amatch("TORNADO", events, maxDist = 10)
pmatch("TORNADO", events, maxDist = 10)
pmatch("TORNADO", events)
pmatch("TORNADO F", events)
pmatch("TORNADO F3", events)
events[355]
stormdata <- stormdata[!grepl("^[S|s]ummary", stormdata$EVTYPE), ]
stormdata$EVTYPE <- toupper(stormdata$EVTYPE)
stormdata
stormdata$EVTYPE <- gsub("^ +", "", stormdata$EVTYPE)
stormdata$EVTYPE <- gsub(" +", " ", stormdata$EVTYPE)
unique(stormdata$EVTYPE)
events <- unique(stormdata$EVTYPE)
grep("^THUNDERSTOM", EVENT)
grep("^THUNDERSTOM", events)
grep("^THUNDERSTORM", events)
events[grep("^THUNDERSTORM", events)]
events[grep("summary", events)]
events[grep("SUMMARY", events)]
stormdata$EVTYPE <- toupper(stormdata$EVTYPE)
stormdata <- stormdata[!grepl("^SUMMARY", stormdata$EVTYPE), ]
stormdata$EVTYPE <- gsub("^ +", "", stormdata$EVTYPE)
stormdata$EVTYPE <- gsub(" +", " ", stormdata$EVTYPE)
events <- unique(stormdata$EVTYPE)
events
grepl("THUNDERSTORM", stormdata$EVTYPE)
events[grep("THUNDERSTOMR", events)]
events[grep("THUNDERSTOMRM", events)]
events[grep("THUNDERSTORM", events)]
events[grep("TSTM", events)]
events[grep("\\+", events)]
events[grep("\\/+", events)]
events[grep("\\-+", events)]
stormdata$EVTYPE <- toupper(stormdata$EVTYPE)
stormdata <- stormdata[!grepl("^SUMMARY", stormdata$EVTYPE), ]
stormdata$EVTYPE <- gsub("^ +", "", stormdata$EVTYPE)
stormdata$EVTYPE <- gsub("$ +", "", stormdata$EVTYPE)
stormdata$EVTYPE <- gsub(" +", " ", stormdata$EVTYPE)
stormdata[grepl("THUNDERSTORM", stormdata$EVTYPE), ]$EVTYPE <- "THUNDERSTORM"
stormdata[grepl("TSTM", stormdata$EVTYPE), ]$EVTYPE <- "THUNDERSTORM"
events <- unique(stormdata$EVTYPE)
stormdata[grepl("TSTM", stormdata$EVTYPE), ]$EVTYPE <- "THUNDERSTORM"
events[grep("THUNDERSTORM", events)]
events[grep("HEAT", events)]
stormdata[grepl("HEAT", stormdata$EVTYPE), ]$EVTYPE <- "HEAT"
events <- unique(stormdata$EVTYPE)
events[grep("HEAT", events)]
EVETNS
events
events[grep("WARM", events)]
stormdata[grepl("WARM", stormdata$EVTYPE), ]$EVTYPE <- "HEAT"
events <- unique(stormdata$EVTYPE)
events[grep("WARM", events)]
events
events[grep("DRY", events)]
stormdata[grepl("DRY", stormdata$EVTYPE), ]$EVTYPE <- "DRY"
events <- unique(stormdata$EVTYPE)
events
events[grep("WET", events)]
stormdata[grepl("WET", stormdata$EVTYPE), ]$EVTYPE <- "WET"
events <- unique(stormdata$EVTYPE)
events
events[grep("SNOW", events)]
events[grep("BLIZZARD", events)]
events[grep("ICE", events)]
events[grep("FRESS", events)]
events[grep("FREZ", events)]
events[grep("FREEZ", events)]
stormdata[grepl("WET", stormdata$EVTYPE), ]$EVTYPE <- "WET"
stormdata[grepl("BLIZZARD", stormdata$EVTYPE), ]$EVTYPE <- "BLIZZARD"
stormdata[grepl("SNOW", stormdata$EVTYPE), ]$EVTYPE <- "SNOW"
stormdata[grepl("ICE", stormdata$EVTYPE), ]$EVTYPE <- "ICE"
stormdata[grepl("FREEZ", stormdata$EVTYPE), ]$EVTYPE <- "FREEZ"
events <- unique(stormdata$EVTYPE)
events
stormdata[grepl("COLD", stormdata$EVTYPE), ]$EVTYPE <- "COLD"
events <- unique(stormdata$EVTYPE)
events
stormdata[grepl("TORNADO", stormdata$EVTYPE), ]$EVTYPE <- "TORNADO"
events <- unique(stormdata$EVTYPE)
stormdata[grepl("WIND", stormdata$EVTYPE), ]$EVTYPE <- "WIND"
events <- unique(stormdata$EVTYPE)
stormdata[grepl("HOT", stormdata$EVTYPE), ]$EVTYPE <- "HOT"
events <- unique(stormdata$EVTYPE)
EVENTS
events
events[grep("VOLCAN", events)]
stormdata[grepl("VOLCAN", stormdata$EVTYPE), ]$EVTYPE <- "VOLCANO"
events[grep("HURICANE", events)]
events[grep("HURRICANE", events)]
events[grep("TYPH", events)]
events[grep("FIRE", events)]
## All Event Types to capital Letters
stormdata$EVTYPE <- toupper(stormdata$EVTYPE)
## Remove all "Summary" Events from the data set
stormdata <- stormdata[!grepl("^SUMMARY", stormdata$EVTYPE), ]
## Eliminate multiple spaces at the start, the middle, or end of the Event name
stormdata$EVTYPE <- gsub("^ +", "", stormdata$EVTYPE)
stormdata$EVTYPE <- gsub("$ +", "", stormdata$EVTYPE)
stormdata$EVTYPE <- gsub(" +", " ", stormdata$EVTYPE)
## Unite all ThunderStorms events
stormdata[grepl("THUNDERSTORM", stormdata$EVTYPE), ]$EVTYPE <- "THUNDERSTORM"
stormdata[grepl("TSTM", stormdata$EVTYPE), ]$EVTYPE <- "THUNDERSTORM"
## Unite all Tornado events
stormdata[grepl("TORNADO", stormdata$EVTYPE), ]$EVTYPE <- "TORNADO"
## Unite all Wind events
stormdata[grepl("WIND", stormdata$EVTYPE), ]$EVTYPE <- "WIND"
## Unite all Heat/Dry events
stormdata[grepl("HEAT", stormdata$EVTYPE), ]$EVTYPE <- "HEAT"
stormdata[grepl("HOT", stormdata$EVTYPE), ]$EVTYPE <- "HOT"
stormdata[grepl("WARM", stormdata$EVTYPE), ]$EVTYPE <- "HEAT"
stormdata[grepl("DRY", stormdata$EVTYPE), ]$EVTYPE <- "DRY"
## Unite all Wet events
stormdata[grepl("WET", stormdata$EVTYPE), ]$EVTYPE <- "WET"
## Unite all Snow/Ice/Cold events
stormdata[grepl("BLIZZARD", stormdata$EVTYPE), ]$EVTYPE <- "BLIZZARD"
stormdata[grepl("SNOW", stormdata$EVTYPE), ]$EVTYPE <- "SNOW"
stormdata[grepl("ICE", stormdata$EVTYPE), ]$EVTYPE <- "ICE"
stormdata[grepl("COLD", stormdata$EVTYPE), ]$EVTYPE <- "COLD"
stormdata[grepl("FREEZ", stormdata$EVTYPE), ]$EVTYPE <- "FREEZ"
## Unite all Volcano events
stormdata[grepl("VOLCAN", stormdata$EVTYPE), ]$EVTYPE <- "VOLCANO"
## Unite all Flood events
stormdata[grepl("FLOOD", stormdata$EVTYPE), ]$EVTYPE <- "FLOOD"
## Unite all Rain/Hail events
stormdata[grepl("RAIN", stormdata$EVTYPE), ]$EVTYPE <- "RAIN"
stormdata[grepl("HAIL", stormdata$EVTYPE), ]$EVTYPE <- "HAIL"
## Unite all Hurricane/Typhoon events
stormdata[grepl("HURRICANE", stormdata$EVTYPE), ]$EVTYPE <- "HURRICANE/TYPHOON"
stormdata[grepl("TYPHOON", stormdata$EVTYPE), ]$EVTYPE <- "HURRICANE/TYPHOON"
## Unite all Fire events
stormdata[grepl("FIRE", stormdata$EVTYPE), ]$EVTYPE <- "FIRE"
stormdata[grepl("HOT", stormdata$EVTYPE), ]$EVTYPE <- "HEAT"
events <- unique(stormdata$EVTYPE)
events
events[grep("TROPICAL", events)]
stormdata[grepl("TROPICAL", stormdata$EVTYPE), ]$EVTYPE <- "TROPICAL STORM"
events[grep("SMOKE", events)]
stormdata[grepl("SMOKE", stormdata$EVTYPE), ]$EVTYPE <- "SMOKE"
events[grep("winter", events)]
events[grep("WINTER", events)]
stormdata[grepl("WINTER", stormdata$EVTYPE), ]$EVTYPE <- "WINTER WEATHER"
events <- unique(stormdata$EVTYPE)
events
events[grep("TSUNAMI", events)]
events[grep("COOL", events)]
stormdata[grepl("COOL", stormdata$EVTYPE), ]$EVTYPE <- "COOL"
events[grep("HIGH", events)]
events[grep("HIGH TEMP", events)]
events[grep("LOW TEMP", events)]
stormdata[grepl("LOW TEMP", stormdata$EVTYPE), ]$EVTYPE <- "COLD"
stormdata[grepl("HIGH TEMP", stormdata$EVTYPE), ]$EVTYPE <- "HEAT"
events <- unique(stormdata$EVTYPE)
EVENTS
events
events[grep("TIDE", events)]
stormdata[grepl("TIDE", stormdata$EVTYPE), ]$EVTYPE <- "TIDE STORM"
events[grep("SURF", events)]
events[grep("WAVE", events)]
stormdata[grepl("TIDE", stormdata$EVTYPE), ]$EVTYPE <- "TIDE"
stormdata[grepl("SURF", stormdata$EVTYPE), ]$EVTYPE <- "SURF"
stormdata[grepl("WAVE", stormdata$EVTYPE), ]$EVTYPE <- "SURF"
events[grep("SHOWER", events)]
events[grep("PRECIP", events)]
events[grep("AVA", events)]
events[grep("DUST", events)]
unique(stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("\\+|\\-|0|", "0", stormdata$PROPDMGEXP)
unique(stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("0", "", stormdata$PROPDMGEXP)
unique(stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("\\+|\\-|\\?", "0", stormdata$PROPDMGEXP)
unique(stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("1", "10", stormdata$PROPDMGEXP)
unique(stormdata$PROPDMGEXP)
## Change the PROPDMGEXP Symbols into numbers
stormdata$PROPDMGEXP <- gsub("\\+|\\-|\\?", "0", stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("1", "10", stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("8", "100000000", stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("3", "1000", stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("4", "10000", stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("5", "100000", stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("6", "1000000", stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("7", "10000000", stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("8", "100000000", stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("H|h", "100", stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("K|k", "1000", stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("M|m", "1000000", stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- gsub("B|b", "1000000000", stormdata$PROPDMGEXP)
stormdata$PROPDMGEXP <- as.numeric(stormdata$PROPDMGEXP)
unique(stormdata$PROPDMGEXP)
unique(stormdata$CROPDMGEXP)
rm(list = ls())
