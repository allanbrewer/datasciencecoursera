con = url("http://biostat.jhsph.edu/~jleek/contact.html")
htmlCode = readLines(con)
close(con)
htmlCode
library(XML)
url <- "http://biostat.jhsph.edu/~jleek/contact.html"
html <- htmlTreeParse(url, useInternalNodes=T)
html
xpathSApply(html, "//title", xmlValue)
con = url("http://biostat.jhsph.edu/~jleek/contact.html")
htmlCode = readLines(con)
close(con)
htmlCode[10]
nchar(htmlCode[10])
nchar(htmlCode[20])
nchar(htmlCode[30])
nchar(htmlCode[100])
ls()
close(con)
con
class(con)
con = url
con
url <- "hola"
con
con = url("http://biostat.jhsph.edu/~jleek/contact.html")
htmlCode = readLines(con)
close(con)
url <- "http://biostat.jhsph.edu/~jleek/contact.html"
html
library(foreign)
args(read.for)
args(read.fwf)
x <- read.fwf(file=url("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for", skip=4, width=c(12,7,4,9,4,,4,9,4))
[A
)
x <- read.fwf(file=url("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"), skip=4, width=c(12,7,4,9,4,,4,9,4))
x <- read.fwf(file=url("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"), skip=4, widths=c(12,7,4,9,4,,4,9,4))
x <- read.fwf(file=url("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"), skip=4, widths=c(12,7,4,9,4,4,9,4))
x <- read.fwf(file=url("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"), skip=4, widths=c(12,7,4,9,4,9,4,9,4))
x <- read.fwf(file=url("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for"), skip=4, widths=c(12,7,4,9,4,9,4,9,4))
x <- read.fwf(file=url("http://www.cpc.ncep.noaa.gov/data/indices/wksst8110.for"), skip=4, widths=c(12,7,4,9,4,9,4,9,4))
close(con)
x
sum(x[,4]
)
sum(x[,4])+sum(x[,9])
ls()
args(url)
url <- urlJLeek
url -> urlJLeek
ls()
urlJLeek
rm(url)
args(url)
dir.create("./data")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for", destfile="./data/wksst8110.for", method="curly")
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fwksst8110.for", destfile="./data/wksst8110.for", method="curl")
x <- read.fwf(file="./data/wksst8110.for",skip=4,widths=c(12,7,4,9,4,9,4,9,4))
sum(x[,4])+sum(x[,9])
head(x)
tail(x)
sum[,4]
sum(x[,4)]
sum(x[,4])
ls()
download.file("https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06pid.csv", destfile="./data/Fss06pid.csv", method="curl")
acs <- read.csv("./data/Fss06pid.csv")
head(acs)
sqldf("select pwgtp1 from acs where AGEP < 50")
install.packages("sqldf")
sqldf("select pwgtp1 from acs where AGEP < 50")
library(sqldf)
sqldf("select pwgtp1 from acs where AGEP < 50")
head(sqldf("select pwgtp1 from acs where AGEP < 50"))
head(sqldf("select distinct AGEP from acs")
)
sqldf("select distinct AGEP from acs")
args(order)
order(sqldf("select distinct AGEP from acs"))
ls()
library(httr)
oauth_endpoint("github")
args(oauth_endpoint)
?oauth_endpoint
oauth_endpoint("github", authorize="https://github.com/login/oauth/authorize", access="https://github.com/login/oauth/access_token")
my_app <- oauth_app("github", key="1c6a6243d87173478a1b", secret="2450605868204f23946c704f24432f52022be60a")
github_token <- oauth2.0_token(oauth_endpoints("github"),my_app)
gtoken <- sign_oath2.0(my_app, token="47e7cbd63a8c8a29559e2bf785cd11cb79826954")
gtoken <- sign_oauth2.0(my_app, token="47e7cbd63a8c8a29559e2bf785cd11cb79826954")
req <- GET("https://api.github.com/users/jtleek/repos", gtoken)
github_token <- sign_oauth1.0(my_app, token="47e7cbd63a8c8a29559e2bf785cd11cb79826954")
gtoken <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", gtoken)
gtoken
req <- GET("https://api.github.com/users/jtleek/repos.json", gtoken)
ls()
req <- GET("https://api.github.com/users/jtleek/repos.json", github_token)
head(req)
names(req)
names(req$content)
names(req$times)
names(req$url)
names(req$headers)
dim(req)
class(req)
req <- GET("https://api.github.com/users/jtleek/repos", github_token)
class(req)
names(req)
library(jsonLite)
library(jsonlite)
data <- jsonlite::fromJSON(toJSON(req))
data <- jsonlite::toJSON(fromJSON(req))
req <- GET("https://api.github.com/users/jtleek/repos.json", github_token)
data <- jsonlite::toJSON(fromJSON(req))
library(rjson)
data <- fromJSON(req)
req <- GET("https://api.github.com/users/jtleek/repos", github_token)
data <- fromJSON(req)
data <- fromJSON("https://api.github.com/users/jtleek/repos")
library(jsonlite)
data <- fromJSON("https://api.github.com/users/jtleek/repos")
detach("package:rjson", unload=TRUE)
library(jsonlite)
data <- fromJSON("https://api.github.com/users/jtleek/repos")
names(data)
dim(data)
data$created_at
dat[1]
data[1]
data[45,][B
data[45]
data[,45]
data$html_url == "https://github.com/jtleek/datasharing"
data[data$html_url == "https://github.com/jtleek/datascience",45]
data[,45][data$html_url == "https://github.com/jtleek/datasharing"
)
data[,45][data$html_url == "https://github.com/jtleek/datasharing"]
names(data)
names(data$owner)
data[,"created_at"][data$html_url == "https://github.com/jtleek/datasharing"]
req <- GET("https://api.github.com/users/jtleek/repos", github_token)
req
class(req)
names(req)
names(req$content)
req$content
req$header
data <- fromJSON("https://api.github.com/users/jtleek/repos")
ls()
head(x)
q()
myapp = oauth_app("github", key="1c6a6243d87173478a1b", secret="2450605868204f23946c704f24432f52022be60a")
libary(httr)
library(httr)
myapp = oauth_app("github", key="1c6a6243d87173478a1b", secret="2450605868204f23946c704f24432f52022be60a")
sig <- sign_oauth1.0(myapp, token = "96aab16de935facf148846a84aaa9ca4f699ae8b")
req <- GET("https://api.github.com/users/jtleek/repos", )
req
sig <- sign_oauth2.0(myapp, token = "96aab16de935facf148846a84aaa9ca4f699ae8b")
sig <- sign_oauth1.0(myapp, token = "96aab16de935facf148846a84aaa9ca4f699ae8b")
oauth_endpoint("github", authenticate=GET("https://github.com/login/oauth/authorize", authenticate("1c6a6243d87173478a1b"), access="access_token=e72e16c7e42f292c6912e7710c838347ae178b4a&scope=user%2Cgist&token_type=bearer")
)
oauth_endpoint("github", authorize=GET("https://github.com/login/oauth/authorize", authenticate("1c6a6243d87173478a1b"), access="access_token=e72e16c7e42f292c6912e7710c838347ae178b4a&scope=user%2Cgist&token_type=bearer"))
oauth_endpoint("github", authorize=GET("https://github.com/login/oauth/authorize", authenticate("1c6a6243d87173478a1b","v-18359166"), access="access_token=e72e16c7e42f292c6912e7710c838347ae178b4a&scope=user%2Cgist&token_type=bearer"))
oauth_endpoint("github", authorize=GET("https://github.com/login/oauth/authorize", authenticate("1c6a6243d87173478a1b","v-18359166")), access="access_token=e72e16c7e42f292c6912e7710c838347ae178b4a&scope=user%2Cgist&token_type=bearer")
github_token <- oauth2.0_token(oauth_endpoint("github"), myapp)
github_token <- oauth2.0_token(oauth_endpoint("github", authorize=GET("https://github.com/login/oauth/authorize", authenticate("1c6a6243d87173478a1b","v-18359166")), access="access_token=e72e16c7e42f292c6912e7710c838347ae178b4a&scope=user%2Cgist&token_type=bearer"), myapp)
github_token <- oauth2.0_token(oauth_endpoint("github", authorize=GET("https://github.com/login/oauth/authorize", 1c6a6243d87173478a1b), access="access_token=e72e16c7e42f292c6912e7710c838347ae178b4a&scope=user%2Cgist&token_type=bearer"), myapp)
github_token <- oauth2.0_token(oauth_endpoint("github", authorize=GET("https://github.com/login/oauth/authorize", authenticate(1c6a6243d87173478a1b)), access="access_token=e72e16c7e42f292c6912e7710c838347ae178b4a&scope=user%2Cgist&token_type=bearer"), myapp)
github_token <- oauth2.0_token(oauth_endpoint("github", authorize=GET("https://github.com/login/oauth/authorize", authenticate("1c6a6243d87173478a1b")), access="access_token=e72e16c7e42f292c6912e7710c838347ae178b4a&scope=user%2Cgist&token_type=bearer"), myapp)
github_token <- oauth2.0_token(oauth_endpoint("github", authorize=GET("https://github.com/login/oauth/authorize", authenticate("1c6a6243d87173478a1b","v-18359166")), access="access_token=e72e16c7e42f292c6912e7710c838347ae178b4a&scope=user%2Cgist&token_type=bearer"), myapp)
github_token <- oauth2.0_token(oauth_endpoint("github", authorize=GET("https://github.com/login/oauth/authorize", authenticate("1c6a6243d87173478a1b","v-18359166")), access="access_token=1b08ca9d0ca730fe7fccc9531ee48dc60a6bcb25&scope=allanbrewer%2Cgist&token_type=bearer"), myapp)
github_token <- oauth2.0_token(oauth_endpoint("github", authorize=GET("https://github.com/login/oauth/authorize", access="access_token=1b08ca9d0ca730fe7fccc9531ee48dc60a6bcb25&scope=allanbrewer%2Cgist&token_type=bearer"), myapp)
)
github_token <- oauth2.0_token(oauth_endpoint("github", authorize=GET("https://github.com/login/oauth/authorize"), access="access_token=1b08ca9d0ca730fe7fccc9531ee48dc60a6bcb25&scope=allanbrewer%2Cgist&token_type=bearer"), myapp)
myapp
oauth_endpoints("github")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
q()
library(httr)
library(jsonlite)
oauth_endpoints("github")
myapp <- oauth_app("github", "1c6a6243d87173478a1b", secret="2450605868204f23946c704f24432f52022be60a")
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
gtoken <- config(token = github_token)
req <- GET("https://api.github.com/users/jtleek/repos", gtoken)
stop_for_status(req)
req
content(req)
names(req)
req$content
names(req$content
)
req
ls()
y <- toJSON(content(req))
names(y)
y
req
content(req)
names(req)
req
y
names(y)
head(y)
class(y)
y <- toJSON(req$content))
y <- toJSON(req$content)
class(y)
y
req$content
content(req)
y <- content(req)
class(y)
y[[30]]
y <- toJSON("https://api.github.com/users/jtleek/repos")
y
y <- toJSON(https://api.github.com/users/jtleek/repos)
y <- toJSON(url(https://api.github.com/users/jtleek/repos))
y <- toJSON(url("https://api.github.com/users/jtleek/repos"))
y <- fromJSON(content(req))
content(req)
y <- fromJSON("https://api.github.com/users/jtleek/repos")
y
class(y)
y <- fromJSON("https://api.github.com/users/jtleek/repos")
names(y)
class(y)
y$created_at
ls()
y <- toJSON(y)
y
req$content
y <- toJSON(content(req))
y
y <- fromJSON(y)
y
names(y)
class(y)
y <- jsonlite::fromJSON(toJSON(content(req)))
names(y)
y <- jsonlite::fromJSON(toJSON(content(req)))
ls()
gtoken
github_token
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
q()
ls()
gtoken
req
gtoken
ls()
sig
gtoken
library(httr)
sig2 <- oauth_signature("https://api.github.com/users/jtleek/repos", "GET", myapp, token="9bf41b74e29bf841455fd0339ce3255b699a78e8")
sig
sig2
req2 <- GET("https://api.github.com/users/jtleek/repos", sig2)
req2
req2 <- GET("https://api.github.com/users/jtleek/repos", sig)
req2
req2 <- GET("https://api.github.com/users/jtleek/repos", sig2)
req2
req2 <- GET("https://api.github.com/users/jtleek/repos", sig2)
sig2
req2 <- GET("https://api.github.com/users/jtleek/repos")
req2
req2 <- GET("https://api.github.com/users/jtleek/repos", sig)
req2
req2 <- GET("https://api.github.com/users/jtleek/repos")
req2
gtoken2 <- config(token=sig2)
gtoken2
sig2 <- oauth_signature("https://github.com/login/oauth/authorize", "GET", myapp, token="9bf41b74e29bf841455fd0339ce3255b699a78e8")
sig2
gtoken2 <- config(token=sig2)
gtoken2
req2 <- GET("https://api.github.com/users/jtleek/repos", gtoken2)
req2 <- GET("https://api.github.com/users/jtleek/repos", config=gtoken2)
req2
req2 <- GET("https://api.github.com/users/jtleek/repos", sig)
req2
github_token
oauth_endpoints("github)
[A
)
"
oauth_endpoints("github")
endpoint <- oauth_endpoints("github")
endpoint
class(endpoint)
github_token2 <- oauth_service_token(oauth_endpoints("github"), )
endpoint
library(jsonlite)
secrets <- jsonlite::fromJSON("./secrets.json")
secrets <- jsonlite::fromJSON("./secrets.json")
secrets <- jsonlite::fromJSON("./secrets.json")
secrets <- jsonlite::fromJSON("./secrets.json")
secrets <- jsonlite::fromJSON("./secrets.json")
ls()
github_token2 <- oauth_service_token(endpoint, secrets)
install.packages("PKI")
github_token2 <- oauth_service_token(endpoint, secrets)
github_token2 <- oauth_service_token(oauth_endpoints("github"), secrets)
secrets <- jsonlite::fromJSON("./secrets.json")
secrets
github_token2 <- oauth_service_token(oauth_endpoints("github"), secrets, scope="https://api.github.com/users")
ls()
q()
